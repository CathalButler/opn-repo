{% if helpers.exists('OPNsense.nextdns.general.enabled') and OPNsense.nextdns.general.enabled == '1' %}
{%   if helpers.exists('OPNsense.nextdns.general.config') and OPNsense.nextdns.general.config != '' %}
config {{ OPNsense.nextdns.general.config }}
{%   endif %}
{%   if helpers.exists('OPNsense.nextdns.general.listen') and OPNsense.nextdns.general.listen != '' %}
listen {{ OPNsense.nextdns.general.listen }}
{%   endif %}
{%   if helpers.exists('OPNsense.nextdns.general.setup-router') and OPNsense.nextdns.general.setup-router == '1' %}
setup-router true
{%   endif %}
{%   if helpers.exists('OPNsense.nextdns.general.cache-size') and OPNsense.nextdns.general.cache-size != '' %}
cache-size {{ OPNsense.nextdns.general.cache-size }}
{%   endif %}
{%   if helpers.exists('OPNsense.nextdns.general.cache-max-age') and OPNsense.nextdns.general.cache-max-age != '' %}
cache-max-age {{ OPNsense.nextdns.general.cache-max-age }}
{%   endif %}
{%   if helpers.exists('OPNsense.nextdns.general.cache-max-ttl') and OPNsense.nextdns.general.cache-max-ttl != '' %}
cache-max-ttl {{ OPNsense.nextdns.general.cache-max-ttl }}
{%   endif %}
{%   if helpers.exists('OPNsense.nextdns.general.timeout') and OPNsense.nextdns.general.timeout != '' %}
timeout {{ OPNsense.nextdns.general.timeout }}
{%   endif %}
{%   if helpers.exists('OPNsense.nextdns.general.hardened-privacy') and OPNsense.nextdns.general.hardened-privacy == '1' %}
hardened-privacy true
{%   endif %}
{%   if helpers.exists('OPNsense.nextdns.general.log-queries') and OPNsense.nextdns.general.log-queries == '1' %}
log-queries true
{%   endif %}
{%   if helpers.exists('OPNsense.nextdns.general.use-hosts') and OPNsense.nextdns.general.use-hosts == '1' %}
use-hosts true
{%   endif %}
{% endif %}
